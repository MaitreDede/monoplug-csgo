"use strict";angular.module("liveserver",["SignalR","ui.router","ui.bootstrap"]).controller("demoController",["$scope","Hub","$timeout","GameEvent",function(n,t,i,r){var u,f;n.error="";n.lastEvents=[];n.players=[];n.serverId="Demo";u=null;n.hubConnectDone=function(){n.error="connected : (status="+u.connection.state+")";u.hello(n.serverId).done(function(){n.$apply(function(){n.error="listening..."})})};n.hubConnectFail=function(t){console.log(t);n.error=t};f=function(){u.connection.start().done(function(){n.$apply(function(){n.hubConnectDone()})}).fail(function(t){n.$apply(function(){n.hubConnectFail(t)})})};u=new t("webUIHub",{listeners:{RaiseEvent:function(t,i){n.$apply(function(){n.hubRaiseEvent(t,i)})},SetPlayers:function(t,i){n.$apply(function(){n.hubSetPlayers(t,i)})}},methods:["hello"],errorHandler:function(t){console.error(t);n.error=t},hubDisconnected:function(){n.$apply(function(){n.error="connecting..."});f()}});n.hubSetPlayers=function(t,i){n.players=i};n.hubRaiseEvent=function(t,i){switch(i.name){case r.player_hurt:case r.weapon_fire:return}for(n.lastEvents.splice(0,0,i);n.lastEvents.length>50;)n.lastEvents.splice(49,1)};f()}]);
//# sourceMappingURL=liveserver.min.js.map
